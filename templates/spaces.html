{% extends 'base.html' %}

{% block content %}
{% load ss_admin_extras %}

<div id="filter_block">
    <div style="padding:10px;color:#222;">
        <div class="clearfix">
            <h5 style="margin-top:0;display:inline-block; margin:0;">FILTERS <a href="#" id="filter_block_button" class="dropdown"><i class="icon-chevron-down" style="opacity:.5;"></i></a></h5>
            <div style="display:inline-block; margin-left:30px;">
                <h6 style="display:inline-block;margin:0;">resources</h6>
                <label class="checkbox inline" for="has_whiteboards">
                  <input type="checkbox" id="has_whiteboards" name="equipment" value="has_whiteboards"> Whiteboard
                </label>
                <label class="checkbox inline" for="has_outlets">
                  <input type="checkbox" id="has_outlets" name="equipment" value="has_outlets"> Outlets
                </label>
                <label class="checkbox inline" for="has_computers">
                  <input type="checkbox" id="has_computers" name="equipment" value="has_computers"> Computer
                </label>
                <label class="checkbox inline" for="has_scanner">
                  <input type="checkbox" id="has_scanner" name="equipment" value="has_scanner"> Scanning
                </label>
                <label class="checkbox inline" for="has_displays">
                  <input type="checkbox" id="has_displays" name="equipment" value="has_displays"> Large display
                </label>
                <label class="checkbox inline" for="has_projector">
                  <input type="checkbox" id="has_projector" name="equipment" value="has_projector"> Projector
                </label>
                <label class="checkbox inline" for="has_printing">
                  <input type="checkbox" id="has_printing" name="equipment" value="has_printing"> Printing
                </label>
            </div>
            <div style="display:inline-block; margin-left:30px;">
                <h6 style="display:inline-block;margin:0;">building</h6>
                <select class="building-location" style="font-size:11px; padding: 2px; line-height:24px; height:24px; margin:0;">

                    <option>---</option>
                    <optgroup label="A">

                        <option value="Alder Hall">Alder Hall</option>

                        <option value="Allen Library (ALB)">Allen Library (ALB)</option>

                        <option value="Allen Library (ALB) North">Allen Library (ALB) North</option>

                        <option value="Allen Library (ALB) South">Allen Library (ALB) South</option>

                        <option value="Architecture Hall (ARC)">Architecture Hall (ARC)</option>

                        <option value="Art Building (ART)">Art Building (ART)</option>

                    </optgroup>

                    <optgroup label="B">

                        <option value="Burke Memorial-Washington State Museum (BMM)">Burke Memorial-Washington State Museum (BMM)</option>

                    </optgroup>

                    <optgroup label="C">

                        <option value="Computer Science and Engineering Building (CSE)">Computer Science and Engineering Building (CSE)</option>

                    </optgroup>

                    <optgroup label="E">

                        <option value="Electrical Engineering Building (EEB)">Electrical Engineering Building (EEB)</option>

                        <option value="Engineering Library (ELB)">Engineering Library (ELB)</option>

                    </optgroup>

                    <optgroup label="F">

                        <option value="Fishery Sciences (FSH)">Fishery Sciences (FSH)</option>

                    </optgroup>

                    <optgroup label="G">

                        <option value="Gould Hall (GLD)">Gould Hall (GLD)</option>

                        <option value="Gowen Hall (GWN)">Gowen Hall (GWN)</option>

                    </optgroup>

                    <optgroup label="H">

                        <option value="Haggett Hall (HGT)">Haggett Hall (HGT)</option>

                        <option value="Hitchcock Hall (HCK)">Hitchcock Hall (HCK)</option>

                        <option value="Hutchinson Hall (HUT)">Hutchinson Hall (HUT)</option>

                    </optgroup>

                    <optgroup label="I">

                        <option value="Intramural Activities Building (IMA)">Intramural Activities Building (IMA)</option>

                    </optgroup>

                    <optgroup label="M">

                        <option value="Magnuson Health Sciences Center A (HSA)">Magnuson Health Sciences Center A (HSA)</option>

                        <option value="Magnuson Health Sciences Center C (HSC)">Magnuson Health Sciences Center C (HSC)</option>

                        <option value="Magnuson Health Sciences Center D (HSD)">Magnuson Health Sciences Center D (HSD)</option>

                        <option value="Magnuson Health Sciences Center E (HSE)">Magnuson Health Sciences Center E (HSE)</option>

                        <option value="Magnuson Health Sciences Center I (HSI)">Magnuson Health Sciences Center I (HSI)</option>

                        <option value="Magnuson Health Sciences Center T (HST)">Magnuson Health Sciences Center T (HST)</option>

                        <option value="Mary Gates Hall (MGH)">Mary Gates Hall (MGH)</option>

                        <option value="McCarty Hall (MCC)">McCarty Hall (MCC)</option>

                        <option value="McMahon Hall (MCM)">McMahon Hall (MCM)</option>

                        <option value="Miller Hall (MLR)">Miller Hall (MLR)</option>

                        <option value="Music Building (MUS)">Music Building (MUS)</option>

                    </optgroup>

                    <optgroup label="O">

                        <option value="Odegaard Undergraduate Library (OUGL)">Odegaard Undergraduate Library (OUGL)</option>

                    </optgroup>

                    <optgroup label="P">

                        <option value="Paccar Hall (PCAR)">Paccar Hall (PCAR)</option>

                        <option value="Padelford Hall (PDL)">Padelford Hall (PDL)</option>

                        <option value="Physics/Astronomy Building (PAB) Tower">Physics/Astronomy Building (PAB) Tower</option>

                        <option value="Poplar Hall (UTO)">Poplar Hall (UTO)</option>

                    </optgroup>

                    <optgroup label="S">

                        <option value="Social Work/Speech &amp; Hearing Sciences Building (SWS)">Social Work/Speech &amp; Hearing Sciences Building (SWS)</option>

                        <option value="South Campus Center (SOCC)">South Campus Center (SOCC)</option>

                        <option value="Suzzallo Library (SUZ)">Suzzallo Library (SUZ)</option>

                    </optgroup>

                    <optgroup label="W">

                        <option value="William H. Foege Genome Sciences (GNOM)">William H. Foege Genome Sciences (GNOM)</option>

                        <option value="William H. Gates Hall (LAW)">William H. Gates Hall (LAW)</option>

                    </optgroup>

                </select>
            </div>

            <div style="display:inline-block; border-left:solid 1px #bbb; padding-left:6px;" class="pull-right">
                <input type="text"  placeholder="State name" style="margin:0; font-size:11px; padding: 1px 3px;"  data-provide="typeahead" data-items="4" data-source="[&quot;Alabama&quot;,&quot;Alaska&quot;,&quot;Arizona&quot;,&quot;Arkansas&quot;,&quot;California&quot;,&quot;Colorado&quot;,&quot;Connecticut&quot;,&quot;Delaware&quot;,&quot;Florida&quot;,&quot;Georgia&quot;,&quot;Hawaii&quot;,&quot;Idaho&quot;,&quot;Illinois&quot;,&quot;Indiana&quot;,&quot;Iowa&quot;,&quot;Kansas&quot;,&quot;Kentucky&quot;,&quot;Louisiana&quot;,&quot;Maine&quot;,&quot;Maryland&quot;,&quot;Massachusetts&quot;,&quot;Michigan&quot;,&quot;Minnesota&quot;,&quot;Mississippi&quot;,&quot;Missouri&quot;,&quot;Montana&quot;,&quot;Nebraska&quot;,&quot;Nevada&quot;,&quot;New Hampshire&quot;,&quot;New Jersey&quot;,&quot;New Mexico&quot;,&quot;New York&quot;,&quot;North Dakota&quot;,&quot;North Carolina&quot;,&quot;Ohio&quot;,&quot;Oklahoma&quot;,&quot;Oregon&quot;,&quot;Pennsylvania&quot;,&quot;Rhode Island&quot;,&quot;South Carolina&quot;,&quot;South Dakota&quot;,&quot;Tennessee&quot;,&quot;Texas&quot;,&quot;Utah&quot;,&quot;Vermont&quot;,&quot;Virginia&quot;,&quot;Washington&quot;,&quot;West Virginia&quot;,&quot;Wisconsin&quot;,&quot;Wyoming&quot;]">&nbsp;<a href="#" id="" class="btn btn-mini"><i class="icon-circle-arrow-up"></i> Search</a>
            </div>

        </div>

        <div style="margin-top:30px;">You're going to be an interesting companion, Mr. Data. I can't. As much as I care about you, my first duty is to the ship. When has justice ever been as simple as a rule book? In all trust, there is the possibility for betrayal. Shields up! Rrrrred alert! Fate protects fools, little children and ships named Enterprise. Your head is not an artifact! Captain, why we are we out here chasing comets? Besides, you look good in a dress. We have a saboteur aboard. That might've been one of the shortest assignments in the history of Starfleet. Fear is the true enemy, the only enemy.</div>

    </div>
</div>




<div class="table-container">
<form name="spaces" action="/space/" method="post">{% csrf_token %}

    <div class="table-options clearfix">
        <h5 class="pull-left" style="margin:0;">SPACES</h5>
        <div id="success_message" class="alert alert-success fade in pull-left" style="margin: 0 0 0 20px;">
            <button type="button" class="close" data-dismiss="alert">&times;</button>
            <strong>Well done!</strong> You successfully completed a task.
        </div>
        <ul class="pull-right">
            <li><a href="/upload" id="batch_upload_button" class="btn btn-mini"><i class="icon-circle-arrow-up"></i> Batch Upload</a></li>
            <li><a href="/space/multiple" id="add_multiple_button" class="btn btn-mini"><i class="icon-plus-sign"></i> Multiple Spaces</a></li>
            <li><a href="/space/add" id="add_space_button" class="btn btn-mini"><i class="icon-plus-sign"></i> Individual Space</a></li>
        </ul>
    </div>

    <div id="table_scroller_container" class="tableDiv">
        <div class="fixedArea clearfix">
            <div class="fixedColumn" style="float: left; width: 600px;">
                <div class="fixedHead">
                    <table style="width:100%;">
                        <thead>
                            <!-- loop through schema? fixed table header for column titles -->
                            <tr>
                                <td class="col-checkbox" id="" style="text-align:center;"><div><input id="check_all_checkbox" type="checkbox"></div></td>
                                {% for key in fixed_keys %}
                                <td class="col-{{ key }}" id=""><div>{{ key }}</div></td>
                                {% endfor %}
                                <td class="col-action muted" id=""><div>Action</div></td>
                            </tr>
                        </thead>
                    </table>
                </div>
                <div class="fixedTable" style="width: 600px; overflow: hidden; border-collapse: collapse; padding: 0px;">
                    <table style="width:100%;">
                        <tbody>
                            <!-- loop of spaces -->
                            {% for space in spots %}
                            <tr id="spot_{{space.id}}_fixed">

                                <td class="col-checkbox" id=""><div><input type="checkbox" name="space_id" value="{{ space.id }}"></div></td>

                                {% for key in fixed_keys %}
                                    {% if key == "name" %}

                                        <!-- for now, look for specific words and apply the updates/queued labels to mimic status -->
                                        {% if "Area" in space|lookup:key %}
                                        <td class="col-{{ key }}" id=""><div><a href="/space/{{ space.id }}">{{ space|lookup:key }}</a> <span class="label">Updated</span></div></td>
                                        {% elif "Lounge" in space|lookup:key %}
                                        <td class="col-{{ key }}" id=""><div><a href="/space/{{ space.id }}">{{ space|lookup:key }}</a> <span class="label label-warning">Ready</span></div></td>
                                        {% else %}
                                        <td class="col-{{ key }}" id=""><div><a href="/space/{{ space.id }}">{{ space|lookup:key }}</a></div></td>
                                        {% endif %}

                                    {% else %}
                                    <td class="col-{{ key }}" id=""><div>{{ space|lookup:key }}</div></td>
                                    {% endif %}
                                {% endfor %}

                                <!-- for now, look for specific words and apply the approve/publish buttons to mimic actions -->
                                {% if "Area" in space.name %}
                                <td class="col-action" id=""><div><a href="#" id="" class="btn btn-mini">Approve</a></div></td>
                                {% elif "Lounge" in space.name %}
                                <td class="col-action" id=""><div><a href="#" id="" class="btn btn-mini btn-success">Publish</a></div></td>
                                {% else %}
                                <td class="col-action" id="">&nbsp;</td>
                                {% endif %}

                            </tr>
                            {% endfor %}
                            <!-- end loop -->
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="fixedContainer" style="float: left; overflow:hidden;">
                <div class="fixedHead" style="float: left; overflow: hidden;">
                    <table style="width: 1950px;">
                        <thead>
                            <!-- loop through schema? fixed table header for column titles -->
                            <tr>
                                {% for key in scrollable_keys %}
                                <td class="col-{{ key }}"><div>{{ key }}</div></td>
                                {% endfor %}
                            </tr>
                        </thead>
                    </table>
                </div>

                <div id="table_scroller" class="fixedTable" style="float: left;  overflow: auto;">
                    <table class="FixedTables" style="width: 1950px;">
                        <caption class="visuallyhidden">List of Spaces</caption>
                        <tbody id="space_list_body">
                            <!-- loop  of spaces -->
                            {% for space in spots %}
                            <tr id="spot_{{space.id}}_scroll">
                                {% for key in scrollable_keys %}
                                    {% if space|lookup:key|classname == 'list' %}
                                    <!-- TODO: if list is detected, loop over it to create a nicer looking list -->
                                    <td class="col-{{ key }}" id=""><div>{% for t in space|lookup:key %}{% if not forloop.first %}, {% endif %}{{ t }}{% endfor %}</div></td>
                                    {% else %}
                                    <td class="col-{{ key }}" id=""><div>{{ space|lookup:key }}</div></td>
                                    {% endif %}
                                {% endfor %}
                            </tr>
                            {% endfor %}
                            <!-- end loop -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <div class="table-sub-options clearfix">
        <ul class="pull-left">
            <li><button id="edit_button" class="btn btn-mini btn-primary" type="submit"><i class="icon-edit icon-white"></i> Edit Multiple</button></li>
            <li><button id="edit_button" class="btn btn-mini btn-default disabled" type="submit">Approve All</button></li>
            <li><button id="edit_button" class="btn btn-mini btn-success disabled" type="submit">Publish All</button></li>
        </ul>
        <ul class="pull-right">
            <li id="table_num_spaces">10 spaces</li>
            <li><a href='/download' id="export_button" class="btn btn-mini"><i class="icon-circle-arrow-right"></i> Export Selected</a></li>
        </ul>
    </div>

    <input type="hidden" id="checked_spaces_count" name="checked_spaces">

</form>
</div>

{% endblock %}
